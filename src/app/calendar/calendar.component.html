<mwl-calendar-month-view 
	[viewDate]="viewDate" 
	[events]="events"
	[activeDayIsOpen]="activeDayIsOpen"
	(dayClicked)="dayClicked($event.day)">
</mwl-calendar-month-view>
<div class="row margin center">
	<div class="left">
		<button  mwlCalendarPreviousView
        [view]="view"
        [(viewDate)]="viewDate"
        (viewDateChange)="closeOpenMonthViewDay()" class="btn grey btn-primary">Poprzedni miesiąc</button>
	</div>
	<a class="btn green btn-primary modal-trigger" (click)="addEvent()"
		href="#edit-event">Add Event</a>
	<div class="right">
		<button
		mwlCalendarNextView
        [view]="view"
        [(viewDate)]="viewDate"
        (viewDateChange)="closeOpenMonthViewDay()" class="btn grey btn-primary">Następny miesiąc</button>
	</div>
</div>

<div id="edit-event" class="modal">
	<p>{{editModalHeader}}</p>
	<div class="container" id="edit-event-container">
		<div class="input-field">
			<input (value)="currentlyInEdit.name" [value]="currentlyInEdit.name" placeholder="Nazwa wydarzenia" id="event-name" type="text" class="validate">
			<label for="event_name">Nazwa wydarzenia</label>
		</div>
		<p>
			<label>
				<input checked type="checkbox" class="filled-in" checked="checked" id="for-group" />
				<span>Czy dla sprecyzowanej grupy?</span>
			</label>
		</p>
		<div class="input-field">
				<select multiple id="groups">
					<option *ngFor="let item of tabs; index as i" [value]="i" >{{item}}</option>
				</select>
				<label>Grupy</label>
			  </div>
		<div class="row">
			<div class="input-field col s6">
			<input id="begin-date" type="text" class="datepicker" (click)="activateDamnThing('datepicker-modal')">
				<label for="begin-date">Data początku</label>
			</div>
			<div class="input-field col s6">
				<input id="begin-time" type="text" class="timepicker" (click)="activateDamnThing('timepicker-modal')">
				<label for="begin-time">Czas początku</label>
			</div>
		</div>
		<div class="row">
			<div class="input-field col s6">
				<input id="end-date" type="text" class="datepicker" (click)="activateDamnThing('datepicker-modal')">
				<label for="end-date">Data końca</label>
			</div>
			<div class="input-field col s6">
				<input id="end-time" type="text" class="timepicker" (click)="activateDamnThing('timepicker-modal')">
				<label for="end-time">Czas końca</label>
			</div>
		</div>
		<div class="input-field">
			<input (value)="currentlyInEdit.location" [value]="currentlyInEdit.location" placeholder="Lokalizacja" id="event-location" type="text" class="validate">
			<label for="location">Lokalizacja</label>
		</div>
		<div class="input-field">
			<select id="tasklist" class="browser-default" [value]="taskLists.indexOf(currentlyInEdit.taskListID)" >
				<option *ngFor="let item of taskLists; index as i" [value]="i">{{item.name}}</option>
			</select>
			
		</div>

		<div class="input-field">
			<select id="category" class="browser-default" [value]="categories.indexOf(currentlyInEdit.category)">
				<option *ngFor="let item of categories; index as i" [value]="i">{{item.name}}</option>
			</select>
		</div>
	</div>
	<div class="modal-footer">
		<button class="waves-effect waves-green btn-flat" onclick="closeModal(0)">Anuluj</button>
		<button class="waves-effect waves-green btn-flat" (click)="save()">{{editModalButtonText}}</button>
	</div>
</div>

<div id="remove-event" class="modal modal-fixed-footer">
	<p>Czy na pewno chcesz usunąć to wydarzenie?</p>
	<div class="modal-footer">
		<button onclick="closeModal(5)" class="modal-close waves-effect waves-red btn-flat">Nie</button>
		<button (click)="deleteEvent()" class="modal-close waves-effect waves-green btn-flat">Tak</button>
	</div>
</div>
